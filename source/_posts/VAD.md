---
title: VAD
date: 2021-07-05 09:05:13
tag:
- è¯­éŸ³è¯†åˆ«
categories:
- 2021
- Summer
- VAD
top: 300
---


## VAD- -Paper
<!-- more -->
1. ### Kobe Japançš„
    1. æ¦‚å¿µä¸Šï¼šVAD:è¯è¯­æ¿€æ´»æ£€æµ‹
        1. å½“ç”¨æˆ·çš„è¯­éŸ³ä¿¡å·èƒ½é‡ä½äºä¸€å®šé—¨é™å€¼æ—¶å°±è®¤ä¸ºæ˜¯é™é»˜çŠ¶æ€ï¼Œä¹Ÿä¸å‘é€è¯­éŸ³åˆ†ç»„ã€‚å½“æ£€æµ‹åˆ°çªå‘çš„æ´»åŠ¨å£°éŸ³æ—¶æ‰ç”Ÿæˆè¯­éŸ³ä¿¡å·ï¼Œå¹¶åŠ ä»¥ä¼ è¾“ã€‚

        2. ä»ä¸€æ®µè¯­éŸ³ï¼ˆçº¯å‡€æˆ–å¸¦å™ªï¼‰ä¿¡å·ä¸­æ ‡è¯†å‡ºè¯­éŸ³ç‰‡æ®µä¸éè¯­éŸ³ç‰‡æ®µ
        3. ADCï¼šæ¨¡æ‹Ÿæ•°å­—è½¬æ¢å™¨ï¼Œæ¨¡æ‹Ÿä¿¡å·è½¬å˜ä¸ºæ•°å­—ä¿¡å·
        4. FPGA boardï¼š Fieldï¼Programmable Gate Arrayçš„ç¼©å†™ï¼Œå³ç°åœºå¯ç¼–ç¨‹é—¨é˜µåˆ—ã€‚
        3. ç¬¬ä¸€æ­¥å°±æ˜¯æå–å™ªéŸ³ä¿¡æ¯ã€‚é€šå¸¸çš„æ€è·¯æ˜¯é€šè¿‡VADå‡½æ•°å¾—åˆ°éè¯­éŸ³ç‰‡æ®µï¼Œè€Œéè¯­éŸ³ç‰‡æ®µå¯ä»¥è®¤ä¸ºæ˜¯çº¯å™ªéŸ³ç‰‡æ®µã€‚ä»è€Œå¯ä»¥ä»çº¯å™ªéŸ³ä¿¡å·ä¸­æå–å‡ºæœ‰ç”¨ä¿¡æ¯ï¼Œä¾‹å¦‚è¿›è¡Œå‚…é‡Œå¶å˜æ¢å¾—åˆ°å™ªéŸ³é¢‘è°±ç­‰ï¼Œå†è¿›è€Œåšä¸‹ä¸€æ­¥å¤„ç†ã€‚ä¾‹å¦‚è°±å‡æ³•ï¼Œç»´çº³æ»¤æ³¢ã€‚
        4. zero cross counter (ZCC)ï¼š è¿‡é›¶ç‡ï¼Œä¸€å¸§è¯­éŸ³æ—¶åŸŸä¿¡å·ç©¿è¿‡0ï¼ˆæ—¶é—´è½´ï¼‰çš„æ¬¡æ•°ã€‚ è¯­éŸ³ç‰‡æ®µZCCè¾ƒå°ï¼Œéè¯­éŸ³ç‰‡æ®µZCCè¾ƒå¤§
        5. STEï¼šshort time energyï¼šçŸ­æ—¶èƒ½é‡
        6. æˆ‘ä»¬é€šå¸¸ä½¿ç”¨éº¦å…‹é£è¿›è¡ŒéŸ³é¢‘å½•åˆ¶çš„é‡‡æ ·ç‡ä¸º 16000Hzï¼Œä¸€ä¸ªé‡‡æ ·ç‚¹ä½¿ç”¨ 16bit æ¥å­˜å‚¨ã€‚
        7. kspsï¼šå•ä½ï¼Œkilo Samples per Second ï¼Œå³é‡‡æ ·åƒæ¬¡æ¯ç§’ï¼Œæ˜¯è½¬åŒ–é€Ÿç‡çš„å•ä½ã€‚
        8. dBï¼šåˆ†è´
        9. S/Nï¼šä¿¡å™ªæ¯”ï¼ˆå•ä½æ˜¯åˆ†è´ï¼‰ï¼Œä¿¡å·ä¸å™ªå£°çš„æ¯”ä¾‹ã€‚è®¾å¤‡çš„ä¿¡å™ªæ¯”è¶Šé«˜è¡¨æ˜å®ƒäº§ç”Ÿçš„å™ªå£°è¶Šå°‘ã€‚è¶Šé«˜è¶Šå¥½ã€‚
        8. d-flip flopï¼šdè§¦å‘å™¨ï¼Œä¸¤ä¸ªç¨³å®šçŠ¶æ€ï¼Œå³"0"å’Œ"1"
    2. è¯­éŸ³è¯†åˆ«çš„ç‰¹å¾æå–
        1. (ä¸€ç¯‡çŸ¥ä¹ä¸Šçš„æ–‡ç« )[https://zhuanlan.zhihu.com/p/147386972] ï¼šæ ¹æ®è¯­éŸ³ä¿¡å·->é¢„åŠ é‡->åˆ†å¸§åŠ çª—->DFT->ç­‰ç­‰çš„æµç¨‹æ¥ä»‹ç»

    3. è¿™ç¯‡æ–‡ç« ï¼šé€šè¿‡zero-crossing VAD algorithmåˆ¤æ–­speechæˆ–å™ªéŸ³ï¼Œåˆ©ç”¨çš„åŸç†å°±æ˜¯æŠŠè¯­éŸ³è¾“å…¥ç°è½¬åŒ–ä¸ºè¿ç»­æ•°å­—ä¿¡å·ï¼Œå†åˆ¤æ–­åœ¨æŸæ—¶åˆ»è¯¥ä¿¡å·æ˜¯å¦ç©¿è¿‡xè½´ï¼Œå¦‚æœè¿™ä¸ªinput signalåœ¨è¯¥ç‚¹çš„å‰ä¸€ä¸ªå³°å€¼passäº†è®¾å®šçš„trigger lineï¼Œé‚£ä¹ˆå®ƒå°±æ˜¯zero crossingï¼Œcountç›¸åº”+1.æˆ‘ä»¬å†æ ¹æ®æŸä¸€æ®µä¿¡å·ä¸­zero crossingç‚¹å‡ºç°çš„ç›¸å¯¹é¢‘ç‡æ¥åˆ¤æ–­è¿™æ®µä¿¡å·åˆ°åº•æ˜¯speechè¿˜æ˜¯noiseã€‚ç”¨sumï¼ˆç”¨äºè®°å½•zerocrossingæ•°é‡çš„å˜é‡ï¼‰/å¸§çš„é•¿åº¦æ¥è¿›è¡Œæ¯”è¾ƒ     ï¼ˆç”¨ä¸­æ–‡åšæµç¨‹å›¾ï¼‰  ã€‚
        ä»–ä»¬å›¢é˜Ÿæ²¡æœ‰ä½¿ç”¨å•ç‰‡æœºï¼Œè€Œæ˜¯ä½¿ç”¨äº†FPGAèŠ¯ç‰‡
        ä»–ä»¬åœ¨é™ˆè¿°ç»“æœæ—¶ï¼Œæ ¹æ®èŒƒå›´ä»-20----20dBçš„ä¿¡å™ªæ¯”çš„å˜åŒ–ï¼Œç”¨äº†Correctï¼ŒFalse accptanceå’ŒFalse rejection
    4. å¥½å¤„åå¤„ï¼Œæ”¹è¿›çš„
        -    ï¼Œï¼Œ
        -    æ²¡æœ‰å…³æ³¨äººè¯´äº†ä»€ä¹ˆä»€ä¹ˆï¼Œåªè¦äººå‘å‡ºå£°éŸ³å°±ä¼šè¢«è¯†åˆ«
    5. æˆ‘å¾—æƒ³æ³•å’Œæ€è€ƒ
    6. ä¸æ‡‚çš„åœ°æ–¹
    7. ç»“åˆçœ‹çš„ç›¸å…³å…¶ä»–æ–‡ç« 
2. ### æ™ºèƒ½æ‰‹è¡¨VADLiteç³»ç»Ÿ
    1. è¿™ä¸ªå›¢é˜Ÿç ”å‘çš„å¼€æºç³»ç»Ÿï¼Œæ˜¯åœ¨æ™ºèƒ½æ‰‹è¡¨ä¸Šå¯ä»¥å®‰è£…ä¸‹è½½çš„appã€‚
    2. ç›®çš„æ˜¯ç»“åˆä»–ä»¬ä»¥å‰æœ‰å…³äºäººä½“å¥åº·æ•°æ®çš„æ™ºèƒ½äº§å“ï¼Œä½¿å¾—æ‰‹è¡¨åœ¨ç”¨æˆ·å‘¼å«çš„æ—¶å€™æ‰ä¼šæ”¶é›†å¿ƒç‡å¿ƒè·³ç­‰æ•°æ®
    4. data preprocessingï¼šä»–ä»¬æ”¶é›†äº†è‡³å°‘10ä¸ªå¤„äºä¸åŒè·ç¦»çš„ä¸åŒçš„äººå¯¹ç€æ‰‹è¡¨è®²è¯åçš„æ•°æ®ï¼Œä¸€å…±3.5hã€‚ä»–ä»¬ç”¨äº†ä¸€ä¸ªé™é»˜è¯†åˆ«çš„ç®—æ³•æ¥æˆªå–æ‰å¤§éƒ¨åˆ†å®‰é™çš„è¯­éŸ³ç‰‡æ®µã€‚ -----è®¡ç®—RMSï¼ˆroot mean squareå‡æ–¹æ ¹ï¼‰ï¼Œå¦‚æœè¿™ä¸ªæ•°å€¼ä½äºä¸€ä¸ªä»–ä»¬ç”¨ç¦»æ•£ç‚¹å›¾ç¡®å®šä¸‹æ¥çš„ç‰¹å®šå€¼ï¼Œå°±æ ‡è®°ä¸ºsilenceã€‚  ---ã€‹ç„¶åç”¨SVMæ¥è¯†åˆ«äººå£°å’Œå™ªå£°---ã€‹åˆ†æˆ25msä¸€å¸§ï¼Œæå–12 MFCC features----ã€‹å†ç”¨linear SVMæ¥è¯†åˆ«å’Œåˆ†ç±»ã€‚å…·ä½“æ¥è¯´ï¼š
3. ### Tiny Voice
    1. ï¼Œï¼Œ
    2. ã€‚ã€‚ã€‚
    3. é€‰æ‹©å­˜å‚¨å™¨ï¼š
        1. å¥½å¤„æ¯”è¾ƒ

    4. interface åŠŸèƒ½å’Œè§„åˆ™ + å…·ä½“çš„ç”¨æ±‡ç¼–è¯­è¨€å†™çš„è½¯ä»¶ï¼š ç»“åˆèµ·æ¥ç”¨ä¸¤å¼ å›¾æ”¾åœ¨ä¸€èµ·ï¼Œä¸€èµ·æ¥è¯´ã€‚


    5. æˆ‘è®¤ä¸ºtimerç­‰ä¸€äº›æƒ³æ³•æˆ–è®¸æˆ‘å¯ä»¥å€Ÿé‰´åœ¨æˆ‘æœªæ¥è‡ªå·±çš„è®¾è®¡ä¸­ã€‚å®ƒè™½ç„¶å¾ˆå°ï¼Œä½†å¹¶ä¸æ˜¯ä¸€ä¸ªç®€å•çš„ç³»ç»Ÿã€‚
    6. ä¸è¶³ï¼štrainçš„æ—¶å€™èƒŒæ™¯çš„å™ªéŸ³ä¼šå¯¹äº§ç”Ÿçš„templateé€ æˆå¾ˆå¤§å½±å“ï¼Œä»è€Œå½±å“recognizeçš„æ•ˆæœã€‚
4. ### pre ----forä»¥ä¸Šä¸‰paper ----ç»“åˆä»¥slideï¼ˆç¨¿ä»¶è‰ç¨¿ç‰ˆï¼‰
    å¯èƒ½è€½è¯¯å¤§å®¶å‡ åˆ†é’Ÿçš„æ—¶é—´ï¼Œæˆ‘å°†å¯¹æˆ‘ä¸Šä¸ªå‘¨é˜…è¯»çš„ä¸‰ç¯‡å…³äºè¯­éŸ³è¯†åˆ«çš„æ–‡ç« å‘å¤§å®¶åšä¸€ä¸ªç®€å•çš„ä»‹ç»å’Œæ±‡æŠ¥ã€‚é¦–å…ˆæˆ‘ä¼šåˆ†åˆ«æŒ‰ç…§è¿™ä¸‰ç¯‡æ–‡ç« çš„å¤§æ¦‚è„‰ç»œæ¥è¯´ä¸€ä¸‹å¯¹è¿™ä¸‰ç§é‡Œé¢çš„ç®—æ³•å•Šåº”ç”¨å•Šæˆ‘çš„ç†è§£ï¼Œç„¶ååœ¨æœ€åæ€»ç»“çš„æ—¶å€™ï¼Œæˆ‘ä¼šæ¨ªå‘æ¯”è¾ƒä¸€ä¸‹è¿™ä¸‰ä¸ªï¼Œè¯´ä¸€ä¸‹æˆ‘çš„ç†è§£å’Œå›°æƒ‘
    1. æ„Ÿè§‰è¿™ä¸‰ç¯‡éƒ½æ²¡æœ‰ç€é‡è®²ç®—æ³•çš„å®ç°å’Œç†è®ºçš„å…¬å¼ï¼Œæ‰€ä»¥å¯¹äºæˆ‘æ¥è¯´æ¯”è¾ƒå¥½ç†è§£ã€‚ æˆ‘é¦–å…ˆä¼šç®€å•ä»‹ç»æ–‡ç« ä¸­æ‰€æåˆ°çš„å®ƒä»¬çš„èƒŒæ™¯ï¼Œç›®çš„ç­‰ï¼Œæˆ‘å¯èƒ½è¦ç®€å•è¯´ä¸€ä¸‹ç¡¬ä»¶éƒ¨åˆ†ï¼Œç€é‡è®²ä¸€ä¸‹æˆ‘æ‰€ç†è§£çš„ï¼Œä»–ä»¬å®ç°VADçš„æ–¹æ³•ã€‚æœ€åæˆ‘ä¼šæ¯”è¾ƒå’Œæ€»ç»“ä¸€ä¸‹è¿™ä¸‰ç§åº”ç”¨ï¼Œè¯´ä¸€ä¸‹è‡ªå·±çš„æ€è€ƒå’Œä¸€äº›å›°æƒ‘ã€‚
    1. ä»‹ç»ç¬¬ä¸€ç¯‡è®ºæ–‡ï¼šåœ¨ä¸€ä¸ªæ™ºèƒ½é€šç”¨ä¼ æ„Ÿå™¨ç³»ç»Ÿé‡Œï¼Œä¸ºäº†èƒ½å¤Ÿå‡å°‘èƒ½è€—ï¼Œä»–ä»¬è®¾è®¡å’Œåº”ç”¨äº†è¿™ä¸ªVADæ¨¡å—ã€‚å°±æ˜¯å½“vadæ²¡æœ‰è¯†åˆ«åˆ°è¯­éŸ³ä¿¡å·çš„æ—¶å€™ï¼Œè¿™ä¸ªç³»ç»Ÿçš„å…¶ä»–ç”µè·¯éƒ½æ˜¯æ²¡é€šç”µçš„ã€‚
        1. ã€‚ã€‚ã€‚
        2. æˆ‘ä¸ç†Ÿæ‚‰ç”»è¿™ç§å›¾æ‰€ä»¥å¼•ç”¨äº†ä¸€å¼ åŸæ–‡çš„å›¾ç‰‡    ç€é‡çš„æ˜¯è¿™ä¸¤ç‚¹     è¿™ä¸ªå¸§é•¿æ ¹æ®æ–‡ä¸­çš„æè¿°åº”è¯¥æ˜¯256
        1. ä¸è¶³ï¼šæ–‡ç« ä¸­ä¹Ÿæåˆ°ï¼Œç›¸æ¯”äºä¸€äº›frequency domain algorithm ï¼Œæˆ‘ä»¬çš„zero crossingç®—æ³•ä½œä¸ºåŸºäºæ—¶åŸŸçš„ï¼Œåœ¨ä¿¡å™ªæ¯”æ¯”è¾ƒä½çš„æƒ…å†µä¸‹å‡†ç¡®ç‡ä¸€èˆ¬
            2. ç„¶åæˆ‘å¯èƒ½å¯¹äºè¿™ä¸¤æ¡trigger lineçš„ç¡®å®šæ–¹æ³•ä¸æ˜¯å¾ˆæ‡‚ --ç»“å°¾
    2. ã€‚ã€‚
    3. ç¬¬äºŒç¯‡VADLiteï¼ˆæ‰‹è¡¨ï¼‰ï¼š
        1. æ¥è‡ªè‹é»ä¸–è”é‚¦ç†å·¥å¤§å­¦çš„å¼€æºé¡¹ç›®
        2. è®¾è®¡åˆè¡·æ˜¯å¸Œæœ›ä¸ä»–ä»¬ä¹‹å‰çš„æ™ºèƒ½äººä½“å¥åº·æ•°æ®äº§å“ç›¸ç»“åˆï¼Œä½¿å¾—åœ¨ç”¨æˆ·å‘¼å”¤æ‰‹è¡¨æ—¶ï¼Œèƒ½å¤Ÿç›¸åº”çš„æµ‹é‡å’Œè®°å½•è¡€å‹è¡€æ ·å¿ƒç‡ç­‰ç­‰æ•°æ®
        3. ä¸‹é¢è¿™ä¸ªå›¾ç®€å•æè¿°äº†ç³»ç»Ÿçš„æ¡†æ¶ï¼Œåˆ†ä¸ºä¸¤ä¸ªæ¨¡å—ã€‚ä»–ä»¬ç”¨äº†pipelineã€‚
        4. ï¼Œï¼Œï¼Œ
        5. åœ¨é¢„å¤„ç†è¿‡ç¨‹ä¸­ï¼Œè®¡ç®—RMSï¼ˆroot mean squareå‡æ–¹æ ¹ï¼‰ï¼Œå¦‚æœè¿™ä¸ªæ•°å€¼ä½äºä¸€ä¸ªä¸´ç•Œå€¼ï¼Œå°±æ ‡è®°ä¸ºsilenceã€‚é™é»˜ç‰‡æ®µçš„è¿™ä¸ªé˜ˆå€¼æ˜¯æ ¹æ®æ‰€æœ‰å£°éŸ³ç‰‡æ®µçš„RMSç”Ÿæˆçš„ç¦»æ•£ç‚¹å›¾ç¡®è®¤çš„ã€‚
        6. å†åˆ°ç‰¹å¾æå–ï¼šä»–ä»¬å›¢é˜Ÿä½¿ç”¨äº†æ¢…å°”é¢‘ç‡å€’è°±ç³»æ•°   ----å¹¶æ²¡æœ‰è¯¦ç»†è®²mfccçš„åŸºç¡€çŸ¥è¯†ï¼Œæˆ‘åªæ˜¯ç®€å•äº†è§£äº†ä¸€ä¸‹åŸç†ã€‚ï¼ˆä¸€ç»„å£°éŸ³æ•°æ®ï¼Œåˆ†æˆå¾ˆå¤šå¸§ï¼Œæ¯ä¸€å¸§ç»è¿‡å¿«é€Ÿå‚…ç«‹å¶å˜æ¢FFTè·å¾—ç›¸åº”çš„é¢‘è°±ï¼Œç„¶åå†ç»è¿‡æ¢…å°”æ»¤æ³¢å™¨è·å¾—æ¢…å°”é¢‘è°±ï¼Œç„¶ååœ¨æ¢…å°”é¢‘è°±ä¸Šè¿›è¡Œå€’è°±åˆ†æ--å–ç¬¬2-13ä¸ªç³»æ•°ï¼‰
        7. åœ¨åˆ†ç±»é‡Œï¼Œç”¨äº†çº¿æ€§SVMã€‚ï¼ˆä¸€ç§ç›‘ç£å­¦ä¹ çš„æ–¹æ³•ï¼Œæˆ‘å¯¹SVMçš„ç†è§£å°±æ˜¯ç¯®çƒçº¢çƒï¼Œæ£å­åˆ†å¼€ï¼‰ï¼Œ
        8. ç”¨äº†ç½‘æ ¼æœç´¢æ¥è°ƒå‚--ï¼ˆå¸¸ç”¨çš„æ‰¾æœ€ä¼˜è¶…å‚æ•°çš„ç®—æ³•ï¼‰
        9. æ ‡å‡†åŒ–ï¼šä»‹ç»çš„æ˜¯å‡å»å‡å€¼å†é™¤ä»¥æ–¹å·®
    4. ã€‚ã€‚ã€‚
    5. ç¬¬ä¸‰ç¯‡å‘¢æ˜¯ä¸€ä¸ªæœŸåˆŠä¸Šå¯¹äºäº§å“çš„ä»‹ç»ã€‚
        1. ï¼Œï¼Œï¼Œ
        2. ä»–è¿™ä¸ªå¤„ç†å™¨æ˜¯æ²¡æœ‰æ•°å­—ç”µè·¯è½¬æ¢å™¨çš„ï¼Œæ‰€ä»¥ä»–ç”¨äº†ä¸€ä¸ªé›†æˆç”µè·¯æ¿æ¥æŠŠæ—¶åŸŸä¿¡å·è½¬åŒ–æˆå•ç‰‡æœºèƒ½å¤Ÿè¯†åˆ«çš„ä¿¡å·
        3. tiny voiceçš„è¯­éŸ³è¯†åˆ«è¿ç”¨çš„ç†è®ºåŸºç¡€å°±æ˜¯æŠŠå£°éŸ³ä¿¡å·åˆ†ä¸ºä¸¤ä¸ªä¸åŒé¢‘ç‡èŒƒå›´çš„å…±æŒ¯å³°åŒº
        3. high-pass filteredï¼šé«˜é€šæ»¤æ³¢ï¼Œè¿‡æ»¤æ‰ä½é¢‘ä¿¡å·
        4. ç¡¬ä»¶ä¸Šç”¨äº†è¿™ä¸ªåªè¯»å­˜å‚¨å™¨ï¼Œåœ¨è¿™é‡Œå…ˆç•¥è¿‡ã€‚
        5. å¯¹äº
        6. ç®€ç•¥çš„flowchartï¼š
            - recognizeæŒ‰ä¸‹åçš„æ¨¡å¼é‡Œã€‚ã€‚ã€‚ã€‚ã€‚åœ¨æ²¡æœ‰é˜…è¯»ç›¸ä¼¼çš„æºç çš„æƒ…å†µä¸‹ï¼Œæˆ‘è§‰å¾—æˆ‘è¿˜å®Œå…¨æ²¡æœ‰çŸ¥å…¶æ‰€ä»¥ç„¶
    6. å¯èƒ½å‰é¢å‡ é¡µä¸å¤Ÿç›´è§‚æ¸…æ™°ï¼Œè¿™ä¸€é¡µæˆ‘æŠŠä»–ä»¬æ”¾åœ¨ä¸€èµ·ï¼Œï¼Œ
    7.
    6. ç„¶åæ¯”è¾ƒè¿™ä¸‰ç¯‡æ–‡ç« ä¸‰ç§åº”ç”¨çš„è¯ï¼Œæˆ‘è§‰å¾—ç›¸å¯¹äºåƒtiny voiceä¸€æ ·ç”¨ä¸å¸¦ADCçš„å¤„ç†å™¨æˆ–è€…åƒFPGAè¿™ç§åŠå®šåˆ¶ç”µè·¯/é€»è¾‘é—¨arrayï¼Œå¯¹äºæˆ‘è¿™ç§åˆå­¦è€…å¯èƒ½åˆšå¼€å§‹ç”¨ä¸€äº›æ¯”è¾ƒå¥½ä¸Šæ‰‹çš„å•ç‰‡æœºæ›´å¥½ã€‚
    7. å¥½åƒä¸€äº›åŸºæœ¬åŸç†æˆ‘éƒ½å·²ç»çŸ¥å…¶ç„¶äº†ï¼Œä½†æ˜¯å…·ä½“çš„ç®—æ³•å®ç°å’Œç†è®ºåŸºç¡€ï¼ˆä½ æ¯”å¦‚è¯´åƒMFCCå’ŒSVMï¼‰æˆ‘è¿˜è¦åŠ æ·±ç†è§£æ‰è¡Œï¼Œéœ€è¦æ›´å¤šçš„é˜…è¯»å’Œå®è·µ
    8. ç„¶åæ–‡ç« é‡Œå…·ä½“æè¿°çš„ä¸€äº›æ•°æ®ï¼Œé‡‡æ ·é¢‘ç‡ç­‰ç­‰æˆ‘éœ€è¦åœ¨è‡ªå·±çš„å®è·µä¸­æ…¢æ…¢æ¥ä½“ä¼šã€‚

## stm32F750 ğŸŒŸVADé¡¹ç›®âœ¨
1. ### åˆè¯†
    1. å…¬å¸ï¼šARMï¼›å†…æ ¸ï¼šCortex-M3å†…æ ¸çš„32ä½é—ªå­˜å¾®æ§åˆ¶å™¨
    2. ç”µå‹èŒƒå›´2--3.6v I/Oç”µå‹å®¹é™ä¸º5V
    3. N8H6ï¼š
        - 8æ˜¯`64kå­—èŠ‚`çš„çš„é—ªå­˜å­˜å‚¨å™¨
        - Hï¼šå°è£…çš„ç±»å‹ï¼šBGAï¼ˆBGAå°è£…ï¼š Ball Grid Array Packageï¼‰
        - 6: -40--85æ‘„æ°åº¦
6.30 ï¼š stm32
å‘¨å››7.1: äº†è§£stm32 ï¼ˆI/Oï¼Œä¸²å£ï¼‰
7.5 å‘¨ä¸€ï¼šé˜…è¯»èµ„æ–™
    2. stm32ç³»ç»Ÿ`æ—¶é’Ÿ`æ§åˆ¶ï¼š 3ç§ä¸åŒæ—¶é’Ÿæº
        1. HSEæŒ¯è¡å™¨æ—¶é’Ÿï¼š
            1. é«˜é€Ÿå¤–éƒ¨æ—¶é’Ÿä¿¡å·
                1. HSEå¤–éƒ¨`æ™¶ä½“`/é™¶ç“·è°æŒ¯å™¨
                2. HSEç”¨æˆ·`å¤–éƒ¨`æ—¶é’Ÿ
        2. HSIæŒ¯è¡å™¨æ—¶é’Ÿ
            1. ç”±`å†…éƒ¨`8MHzçš„RCæŒ¯è¡å™¨äº§ç”Ÿï¼Œç›´æ¥ä½œä¸ºç³»ç»Ÿæ—¶é’Ÿä¿¡å·
            2. ä¸HSEç›¸æ¯”ï¼Œä¸éœ€è¦ä»»ä½•å¤–éƒ¨å™¨ä»¶ï¼Œå¯åŠ¨æ—¶é—´çŸ­ï¼Œä½†ç²¾åº¦å·®ã€‚å¤‡ç”¨
        3. PLLæ—¶é’Ÿ: å†…éƒ¨ å€é¢‘
            - å¦‚ä½¿ç”¨usbï¼ŒPLLå¿…é¡»è¢«é…ç½®ä¸ºè¾“å‡º48/72MHzæ—¶é’Ÿï¼Œç”¨äºæä¾›48MHzçš„USBCLKæ—¶é’Ÿ
    3. ä¸­æ–­ç³»ç»Ÿï¼šæ”¯æŒçš„ä¸­æ–­84ä¸ªï¼ˆ16ä¸ªå†…æ ¸+68ä¸ªå¤–éƒ¨ï¼‰
    4. å›ºä»¶å‡½æ•°åº“ä»ï¼š24ä¸ªåº“ï¼ˆflashï¼Œlibï¼Œnvicä¸­æ–­ï¼Œrccæ—¶é’Ÿï¼ˆReset &  clock controlï¼‰ï¼Œgpioç®¡è„šç»å¤§éƒ¨åˆ†ç¨‹åºéƒ½æ¶‰åŠï¼‰
    5. è½¯ä»¶é…ç½®ï¼šé€šè¿‡è®¾ç½®flashèœå•ä¸‹çš„é€‰é¡¹ï¼Œé€‰æ‹©ç›®æ ‡èŠ¯ç‰‡å’Œå‹å·ï¼Œflashå’ŒRAMçš„å­˜å‚¨èµ·å§‹åœ°å€å’Œå¤§å°ï¼Œé€‰æ‹©ä»¿çœŸè°ƒè¯•å·¥å…·ï¼Œé—ªå­˜ç©ºé—´ç­‰
    6. æ¨¡å—åŒ–ç¼–ç¨‹ï¼š
        1. æ·»åŠ å¯åŠ¨æ–‡ä»¶ï¼ˆcortexm3_marco.så’Œstm32f10x_vertor.sï¼‰
        2. æ·»åŠ å¯¹åº”å¤–è®¾çš„å›ºä»¶å‡½æ•°åº“ï¼ˆstm32f10x_xxx.cï¼‰
        3. æ·»åŠ ä¸­æ–­æœåŠ¡ç¨‹åºæ¨¡å—ï¼ˆstm32f10x_it.cï¼‰
        4. ç¼–å†™å¤–è®¾é…ç½®ï¼ˆåˆå§‹åŒ–ï¼‰æ¨¡å—ä»£ç 
            1. å¼€æ—¶é’ŸRCC
            2. è‡ªèº«åˆå§‹åŒ–
            3. ç›¸å…³ç®¡è„šé…ç½®ï¼ˆGPIOï¼‰
            4. æ˜¯å¦ä½¿ç”¨ä¸­æ–­ï¼ˆNVICï¼‰
            5. ç¼–å†™mainå‡½æ•°ä¸­çš„åº”ç”¨ç¨‹åºåŠå…¶å­ç¨‹åºï¼ˆä¸€å®šè¦å°†`#include stm32f10x_lib.h`æ–‡ä»¶åŒ…å«åœ¨å…¶ä¸­ï¼‰
    7. NVICï¼ˆnested vector interrupt controlleråµŒå¥—å‘é‡ä¸­æ–­æ§åˆ¶å™¨ï¼‰
        1. æ§åˆ¶å¼‚å¸¸ï¼Œè®¾ç½®å„ä¸ªå¼‚å¸¸çš„ä¼˜å…ˆç­‰çº§å¹¶å¯¹å¼‚å¸¸è¿›è¡Œå¤„ç†
            - æ‰€æœ‰å¼‚å¸¸éƒ½åœ¨å¤„ç†å™¨æ¨¡å¼ä¸­å¤„ç† --handler mode
        2. æŠ¢å  ï¼ˆäº§ç”ŸåµŒå¥—ï¼Œå’¬å°¾ï¼Œæ™šåˆ°ï¼‰
        3. NVICæ”¯æŒä¼˜å…ˆçº§åˆ†ç»„æœºåˆ¶

    8. IOç”±è½¯ä»¶é…ç½®--8ç§æ¨¡å¼ï¼š
        1. æ¨æŒ½è¾“å‡ºï¼šè¾“å‡ºé«˜ï¼Œä½ç”µå¹³ï¼Œè¿æ¥æ•°å­—å™¨ä»¶ ä¸¤ä¸ªä¸‰æç®¡ï¼ˆå‚æ•°ç›¸åŒï¼‰ï¼Œå„è´Ÿè´£æ­£è´ŸåŠå‘¨çš„æ³¢å½¢æ”¾å¤§ä»»åŠ¡
        2. ç­‰ç­‰
        3. IOé…ç½®å¸¸ç”¨çš„8ä¸ªå¯„å­˜å™¨ï¼š
            1. MODERå¯„å­˜å™¨ï¼šGPIOç«¯å£æ¨¡å¼æ§åˆ¶å¯„å­˜å™¨ æ¯ä¸¤ä½é…ç½®ä¸€ä¸ªIOå£çš„I/Oæ–¹å‘
            2. OTYPERå¯„å­˜å™¨ï¼šæ§åˆ¶GPIOçš„`è¾“å‡º`ç±»å‹  æ¯ä¸€ä½é…ç½®ä¸€ä¸ªI/Oå£çš„è¾“å‡ºç±»å‹ï¼ˆæ¨æŒ½0/å¼€æ¼1ï¼‰
            3. OSPEEDRå¯„å­˜å™¨ï¼šGPIOsçš„è¾“å‡ºé€Ÿåº¦ æ¯ä¸¤ä½
            4. ODR: æ§åˆ¶`è¾“å‡º`ç”µå¹³ï¼ˆé«˜/ä½ï¼‰
            5. BSRR: å¤ä½
            6. IDRï¼šè¯»å–GPIOxçš„è¾“å…¥æ•°æ®
            7. ä¸¤ä¸ª32ä½å¤ç”¨åŠŸèƒ½é€‰æ‹©å¯„å­˜å™¨AFRH+AFRL
    9. å¤–è®¾ çš„æ¦‚å¿µ
        1. è¿˜æœ‰å¤–è®¾çš„ä½¿èƒ½ï¼Œå¤±èƒ½ï¼Œå¤ä½
            1. ä½¿èƒ½ enable
        7.7æœªå®Œå¾…ç»­
    10. å›ºä»¶åº“ä¸å¯„å­˜å™¨
        1. å›ºä»¶åº“å°±æ˜¯å‡½æ•°çš„é›†åˆï¼ˆAPIï¼‰ï¼ŒæŠŠå¯„å­˜å™¨æ“ä½œå°è£…èµ·æ¥
        2. ...
    11. stm32é‡Œæœ‰xxç»„I/Oï¼Œæ¯ä¸€ç»„IOæœ‰16ä¸ªIOå£ï¼Œæ¯ç»„IOæœ‰10ä¸ª32ä½å¯„å­˜å™¨ã€‚æ¯ç»„IOå…¶å®å°±æ˜¯ä¸€ä¸ªGPIOç«¯å£
    12. å¤ç”¨ï¼Ÿï¼Ÿ
    13. ä¸²å£çš„é€šä¿¡ï¼ˆç»“åˆä¸²å£é€šä¿¡å®éªŒï¼‰
| é€šä¿¡æ ‡å‡† ï½œ å¼•è„šè¯´æ˜ ï½œ é€šä¿¡æ–¹å¼ ï½œ é€šä¿¡æ–¹å‘ ï½œ
| :----: | :---: | :---: | :---: |
| UART(é€šç”¨å¼‚æ­¥æ”¶å‘å™¨)  | TXDï¼ˆå‘é€ç«¯ï¼‰ï¼›RXDï¼ˆæ¥æ”¶ç«¯ï¼‰ï¼›GNDï¼ˆå…¬å…±åœ°ï¼‰ | .. | å…¨åŒå·¥ |
| SPI | SCK(åŒæ­¥æ—¶é’Ÿ)ï¼›MISOï¼›| åŒæ­¥é€šä¿¡ | å…¨/åŠåŒå·¥ |
            1. ![ä¸²è¡Œé€šè®¯å’Œå¹¶è¡Œé€šè®¯](https://pic2.zhimg.com/80/v2-dc0f1343063ddcb1fdd1e89ffc9fd529_1440w.jpg)
            2. å…¨åŒå·¥ï¼šåŒä¸€æ—¶åˆ»ä¸¤ä¸ªè®¾å¤‡ä¹‹é—´ åŒæ—¶ æ”¶å‘æ•°æ®






2. ## å®éªŒ æºç  ä¸Šæ‰‹
    1. è·‘é©¬ç¯ HALåº“ æºç    ---`IOå£è¾“å‡º`
        1. 7.6å‘¨äºŒä¸‹åˆ æˆåŠŸ --ç»“åˆå¼€å‘æ‰‹å†Œï¼Œéœ€è¦ç€é‡ç†è§£çš„æ˜¯`GPIO`å’Œ`LED0ï¼ˆ1ï¼‰LED1ï¼ˆ0ï¼‰`(led.hæ–‡ä»¶é‡Œçš„IOè¾“å‡ºç”µå¹³å–åæ“ä½œ)
        2. åˆè¯†äº†ä¸€ä¸ªprojectçš„å…¨è¿‡ç¨‹ --æ³¨æ„æœ‰HARDWAREæ–‡ä»¶å¤¹çš„åˆ›å»ºï¼ŒLEDåŠ å…¥pathç­‰ç­‰åŸºæœ¬è¿‡ç¨‹
        3. LEDäº®ç­ï¼šå¼•è„šè¾“å‡ºé«˜ä½ç”µ

    2. æŒ‰é”®è¾“å…¥  --- `IOå£è¾“å…¥`
    3. ä¸²å£é€šä¿¡  --ä¸»è¦æ˜¯ä¸²å£ä¸­æ–­æ¥æ”¶--æ¯æ¬¡æ¥æ”¶åˆ°ä¸€ä¸ªå­—ç¬¦å->è¿›å…¥`ä¸­æ–­`æœåŠ¡å‡½æ•°æ¥å¤„ç†
        1. HALåº“
            1. huartä¸²å£å¥æŸ„ï¼ˆä¸€ä¸ªä¼ é€’å‚æ•°ï¼Œæ˜¯ä¸ªæŒ‡é’ˆï¼‰
            2. uartæ˜¯ä»€ä¹ˆçš„ç¼©å†™ï¼Ÿ
            2. ä¸²å£MSPå‡½æ•°HAL_UART_MspInit --è®¾ç½®GPIOç­‰MCUç›¸å…³é…ç½®ï¼ˆå› ä¸ºHAL_UART_Initåˆå§‹åŒ–ä¸ä¸²å£æœ¬èº«ç›¸å…³çš„å‚æ•°ã€æ³¢ç‰¹ç‡åœæ­¢ä½ç­‰ã€‘ï¼ŒMSPå‡½æ•°ä¼šåœ¨Initå†…éƒ¨è°ƒç”¨ï¼‰
            2. HALä¸­å®šä¹‰äº†ä¸€ä¸ªä¸²å£ä¸­æ–­å¤„ç†å‡½æ•° HAL_UART_IRQHandler.
            3. HAL_UART_RECEIVE_ITï¼Œå¼€å¯æ¥å—ä¸­æ–­ ---æŠŠæ¯æ¬¡æ¥æ”¶åˆ°çš„å­—ç¬¦ä¿å­˜åœ¨ç¼“å­˜æŒ‡é’ˆä¸­
            4. æ¥æ”¶å®Œæˆå›è°ƒå‡½æ•°RxCpltCallbackï¼ˆhuartï¼‰   ---è¿™äº›å‡½æ•°çš„å‚æ•°éƒ½æ˜¯huartğŸ˜¹
            5. TDR ï¼š å‘é€æ•°æ®å¯„å­˜å™¨

        2. æºç ä¸­ï¼š
            1. usart.cä¸­
                1. USART1->ISR&0x40 è¡¨ç¤ºä»€ä¹ˆï¼Ÿ
                2. u8æ˜¯ä»€ä¹ˆ  --u8æ˜¯unsigned charï¼Œu16æ˜¯unsigned shortï¼Œu32æ˜¯unsigned longã€‚
    4. å®šæ—¶å™¨
    5. ADCï¼š
        1. æ¿å­é‡Œæœ‰3ä¸ªADC

`å®šæ—¶å™¨ io ä¸²å£ adc`
é‡‡æ ·é¢‘ç‡ ï¼ˆå®šæ—¶å™¨ 1msæˆ–è€…0.1msï¼‰
adc ç›´æµç”µæº
å•æ¨¡å— é›†æˆè°ƒè¯•
